webpackJsonp(["main"],{"./app/common/style.less":function(e,exports){},"./app/components/app/app.component.js":function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.appComponent=void 0;var a=t("./node_modules/babel-runtime/helpers/classCallCheck.js"),o=n(a),l=t("./node_modules/babel-runtime/helpers/createClass.js"),s=n(l),i=t("./app/components/app/app.html"),c=n(i);t("./app/components/app/app.less");var d=t("./app/components/song/song.ctrl.js"),r=t("./app/components/song/song.html"),m=n(r),p=function(){function e(t,n,a){"ngInject";(0,o.default)(this,e),this._$http=t,this._AppService=n,this._$mdDialog=a,this.selectedItems=[],this.country="US",this.term="Ed Sheeran"}return e.$inject=["$http","AppService","$mdDialog"],(0,s.default)(e,[{key:"$onInit",value:function(){this.search()}},{key:"toggleAddToChart",value:function(e,t,n){var a=t.findIndex(function(t){return t.trackId===e.trackId});a<0?(t.push(e),e.selected=!0):(t.splice(a,1),e.selected=!1)}},{key:"showDetail",value:function(e,t){this._$mdDialog.show({controller:d.SongDetailController,templateUrl:m.default,parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0,fullscreen:!1,locals:{song:e,selectedItems:this.selectedItems,toggleAddToChart:this.toggleAddToChart}})}},{key:"search",value:function(){this._getSongs()}},{key:"removeFromChart",value:function(e,t){var n=this.results.find(function(e){return e.trackId===t.trackId});this.selectedItems.splice(e,1),n&&(n.selected=!1)}},{key:"_updateWithSelectedItems",value:function(){var e=this;this.selectedItems.map(function(t){e.results.map(function(e){e.trackId===t.trackId&&(e.selected=!0)})})}},{key:"_getSongs",value:function(){var e=this;this.isLoading=!0,this._AppService.getItems(this.term.replace(/\s/g,"+"),this.country).then(function(t){e.results=t.data.results,e.count=t.data.resultCount,e._updateWithSelectedItems()}).finally(function(){e.isLoading=!1})}}]),e}();exports.appComponent={controller:p,templateUrl:c.default}},"./app/components/app/app.html":function(e,exports){var t="components/app/app.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<md-toolbar class="md-primary">\n    <div class="md-toolbar-tools">\n        <h2 class="md-flex">iTunes</h2>\n    </div>\n</md-toolbar>\n\n<md-content class="md-padding app-container" layout="row" layout-wrap>\n    <div flex layout="column">\n        <div flex="20" layout="row" layout-align="center top">\n            <md-input-container flex>\n                <label>Try something here</label>\n                <input ng-model="$ctrl.term">\n            </md-input-container>\n            <md-input-container flex>\n                <label>From store</label>\n                <md-select name="type" ng-model="$ctrl.country">\n                    <md-option value="US">United States</md-option>\n                    <md-option value="FR">France</md-option>\n                    <md-option value="CN">China</md-option>\n                </md-select>\n            </md-input-container>\n            <md-button class="md-fab md-primary" aria-label="Start searching" ng-click="$ctrl.search()">\n                <md-icon aria-label="Detail" class="material-icons">search</md-icon>\n            </md-button>\n        </div>\n\n\n        <div flex class="cart-list">\n            <md-list>\n                <md-list-item ng-repeat="item in $ctrl.selectedItems" class="noright">\n                    <p>{{ item.trackName }}</p>\n                    <md-button class="md-icon-button">\n                        <md-tooltip>Remove from cart</md-tooltip>\n                        <md-icon aria-label="Remove" class="material-icons" ng-click="$ctrl.removeFromChart($index, item)">remove_shopping_cart</md-icon>\n                    </md-button>\n                </md-list-item>\n            </md-list>\n        </div>\n    </div>\n    <md-list flex class="result-list" layout-align="center center">\n        <md-list-item ng-if="!$ctrl.isLoading" ng-repeat="item in $ctrl.results" class="noright">\n            <div flex>\n                <md-tooltip>Artist: {{ item.artistName }}</md-tooltip>\n                <p>{{ item.trackName }}</p>\n            </div>\n            <md-button class="md-icon-button" aria-label="Add" ng-click="$ctrl.toggleAddToChart(item, $ctrl.selectedItems, $event)">\n                <md-tooltip>{{ item.selected ? \'Remove from cart\' : \'Add to cart\' }}</md-tooltip>\n                <md-icon aria-label="Favorite" class="material-icons">{{ item.selected ? \'shopping_cart\' : \'add_shopping_cart\' }}</md-icon>\n            </md-button>\n            <md-button class="md-icon-button" aria-label="Detail" ng-click="$ctrl.showDetail(item, $event)">\n                <md-tooltip>Show more details</md-tooltip>\n                <md-icon aria-label="Detail" class="material-icons">info_outline</md-icon>\n            </md-button>\n        </md-list-item>\n        <md-progress-circular ng-if="$ctrl.isLoading" md-diameter="96" class="md-accent loader"></md-progress-circular>\n    </md-list>\n</md-content>')}]),e.exports=t},"./app/components/app/app.less":function(e,exports){},"./app/components/app/app.module.js":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appModule=void 0;var n=t("./node_modules/angular/index.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(n);t("./node_modules/angular-material/index.js");var o=t("./app/components/app/app.component.js"),l=t("./app/components/app/app.service.js");exports.appModule=a.default.module("app",["ngMaterial"]).factory("AppService",l.appService).component("app",o.appComponent).name},"./app/components/app/app.service.js":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.appService=["$http",function(e){"ngInject";return{getItems:function(t,n){return e.get("https://itunes.apple.com/search?term="+t+"&country="+n)}}}]},"./app/components/song/song.ctrl.js":function(e,exports,t){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.SongDetailController=["$scope","$mdDialog","song","toggleAddToChart","selectedItems",function(e,t,n,a,o){"ngInject";e.song=n,e.toggleAddToChart=a,e.selectedItems=o,e.playPreview=function(e){new Audio(e).play()}}]},"./app/components/song/song.html":function(e,exports){var t="components/song/song.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(t,'<md-card md-theme="\'default\'" md-theme-watch class="song-card">\n    <md-card-title>\n        <md-card-title-text>\n            <span class="md-headline">{{ song.trackName }}</span>\n            <span class="md-subhead">{{ song.artistName }}</span>\n        </md-card-title-text>\n        <md-card-title-media>\n            <img ng-src="{{ song.artworkUrl100 }}" class="md-card-image" alt="{{ song.trackName }}">\n        </md-card-title-media>\n    </md-card-title>\n    <md-card-actions layout="row" layout-align="end center">\n        <md-button ng-if="song.previewUrl" class="md-icon-button" aria-label="Preview" ng-click="playPreview(song.previewUrl)">\n            <md-icon aria-label="Menu" class="material-icons">play_circle_outline</md-icon>\n        </md-button>\n        <md-button class="md-icon-button" aria-label="Settings" ng-click="toggleAddToChart(song, selectedItems, $event)">\n            <md-icon aria-label="Menu" class="material-icons">{{ song.selected ? \'shopping_cart\' : \'add_shopping_cart\' }}</md-icon>\n        </md-button>\n    </md-card-actions>\n</md-card>')}]),e.exports=t},"./app/index.js":function(e,exports,t){"use strict";var n=t("./node_modules/angular/index.js"),a=function(e){return e&&e.__esModule?e:{default:e}}(n),o=t("./app/components/app/app.module.js");t("./app/common/style.less");var l=a.default.module("angular-itune-demo",[o.appModule]).name;a.default.element(function(){return a.default.bootstrap(document,[l],{strictDi:!0})})},0:function(e,exports,t){t("./node_modules/babel-polyfill/lib/index.js"),e.exports=t("./app/index.js")}},[0]);